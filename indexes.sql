-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS "SA" SALT 'ecc30f8a87629930' HASH '12523b9c540329cf87ba196817806e5f523a2a3ef7363ddd50e6b11d864d6739' ADMIN;         
CREATE MEMORY TABLE "PUBLIC"."CATEGORY"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "NAME" CHARACTER VARYING(255) NOT NULL,
    "PARENT_ID" BIGINT,
    "PATH" CHARACTER VARYING(255) NOT NULL
);      
ALTER TABLE "PUBLIC"."CATEGORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CATEGORY;
CREATE INDEX "PUBLIC"."IDX_PATH" ON "PUBLIC"."CATEGORY"("PATH" NULLS FIRST);  
CREATE MEMORY TABLE "PUBLIC"."MEMBER"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "NAME" CHARACTER VARYING(255)
);       
ALTER TABLE "PUBLIC"."MEMBER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.MEMBER;  
CREATE MEMORY TABLE "PUBLIC"."ORDER_PRODUCT"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "MEMBER_ID" BIGINT,
    "PRODUCT_ID" BIGINT
); 
ALTER TABLE "PUBLIC"."ORDER_PRODUCT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDER_PRODUCT;           
CREATE MEMORY TABLE "PUBLIC"."PRICE_INFO"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "DELIVERY_FEE" INTEGER,
    "LINK_URL" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255),
    "PRICE" BIGINT,
    "UPDATED_AT" TIMESTAMP(6),
    "PRODUCT_ID" BIGINT
);               
ALTER TABLE "PUBLIC"."PRICE_INFO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_C" PRIMARY KEY("ID");   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRICE_INFO;              
CREATE MEMORY TABLE "PUBLIC"."PRODUCT"(
    "DTYPE" CHARACTER VARYING(31) NOT NULL,
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "IMAGE_URL" CHARACTER VARYING(255),
    "LOWEST_PRICE" BIGINT,
    "NAME" CHARACTER VARYING(255),
    "RELEASE_DATE" TIME(6),
    "COLOR" CHARACTER VARYING(255),
    "MONITOR_SIZE" FLOAT(53),
    "INCHES" FLOAT(53),
    "CATEGORY_ID" BIGINT,
    "MEMBER_ID" BIGINT
);      
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCT; 
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."FKNLSNJUKOV4VM4DV1DW0L438HI" FOREIGN KEY("MEMBER_ID") REFERENCES "PUBLIC"."MEMBER"("ID") NOCHECK;     
ALTER TABLE "PUBLIC"."PRICE_INFO" ADD CONSTRAINT "PUBLIC"."FKP1I7Q2AWSO0Q9K1X198TO9RGW" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCT"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."ORDER_PRODUCT" ADD CONSTRAINT "PUBLIC"."FKHNFGQYJX3I80QOYMRSSLS3KNO" FOREIGN KEY("PRODUCT_ID") REFERENCES "PUBLIC"."PRODUCT"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."FK1MTSBUR82FRN64DE7BALYMQ9S" FOREIGN KEY("CATEGORY_ID") REFERENCES "PUBLIC"."CATEGORY"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."ORDER_PRODUCT" ADD CONSTRAINT "PUBLIC"."FKK01QIU5B3R035SNI65TMGPH8D" FOREIGN KEY("MEMBER_ID") REFERENCES "PUBLIC"."MEMBER"("ID") NOCHECK;               
